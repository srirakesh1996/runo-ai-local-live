<?php
$directory = __DIR__; // Current directory. Change this if needed

// Open the directory
if ($handle = opendir($directory)) {
    echo "<h3>Files and Folders in '$directory':</h3><ul>";

    while (false !== ($file = readdir($handle))) {
        if ($file === '.' || $file === '..') continue;

        $fullPath = $directory . DIRECTORY_SEPARATOR . $file;

        if (is_dir($fullPath)) {
            echo "<li><strong>Folder:</strong> $file</li>";
        } elseif (is_file($fullPath)) {
            echo "<li>File: $file</li>";

            // Check if the file ends with .php
            if (pathinfo($file, PATHINFO_EXTENSION) === 'php') {
                $newName = basename($file, '.php') . '.html';
                $newPath = $directory . DIRECTORY_SEPARATOR . $newName;

                // Rename the file
                if (rename($fullPath, $newPath)) {
                    echo "<li style='color:green;'>Renamed: $file -> $newName</li>";
                } else {
                    echo "<li style='color:red;'>Failed to rename: $file</li>";
                }
            }
        }
    }

    echo "</ul>";
    closedir($handle);
} else {
    echo "Failed to open directory.";
}
